# рџ—„пёЏ РЎРёСЃС‚РµРјР° Р±Р°Р·С‹ РґР°РЅРЅС‹С… GRITHER

## рџ“‹ Р§С‚Рѕ СЂРµР°Р»РёР·РѕРІР°РЅРѕ:

### вњ… **РСЃРїСЂР°РІР»РµРЅР° Р»РѕРіРёРєР° СЃРµРєСЂРµС‚РЅРѕРіРѕ РґРѕСЃС‚СѓРїР°:**
- РџРѕСЃР»Рµ РІРІРѕРґР° РїСЂР°РІРёР»СЊРЅРѕРіРѕ РєРѕРґР° РІ СЃРµРєСЂРµС‚РЅРѕРј РѕРєРЅРµ (8 РїРµСЂРµРєР»СЋС‡РµРЅРёР№ С‚РµРјС‹) **СЃСЂР°Р·Сѓ РѕС‚РєСЂС‹РІР°РµС‚СЃСЏ Р°РґРјРёРЅ РїР°РЅРµР»СЊ**
- РљРЅРѕРїРєР° "РђРґРјРёРЅ РїР°РЅРµР»СЊ" РІ РЅР°СЃС‚СЂРѕР№РєР°С… **СЃРєСЂС‹С‚Р° РїРѕ СѓРјРѕР»С‡Р°РЅРёСЋ**
- РџРѕРєР°Р·С‹РІР°РµС‚СЃСЏ С‚РѕР»СЊРєРѕ РµСЃР»Рё:
  - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ РµСЃС‚СЊ РІ Р‘Р” СЃ СЂРѕР»СЊСЋ Р°РґРјРёРЅ/С‚РёРјР»РёРґ
  - РР›Р Р°РєС‚РёРІРёСЂРѕРІР°РЅ СЃРµРєСЂРµС‚РЅС‹Р№ РґРѕСЃС‚СѓРї С‡РµСЂРµР· РєРѕРґС‹

### вњ… **РЎРѕР·РґР°РЅР° СЃРёСЃС‚РµРјР° Р‘Р” РЅР° localStorage:**
- **РђРІС‚РѕСЃРѕС…СЂР°РЅРµРЅРёРµ** РґР°РЅРЅС‹С… РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ
- **РЎРёРЅС…СЂРѕРЅРёР·Р°С†РёСЏ** РјРµР¶РґСѓ СЃРµСЃСЃРёСЏРјРё
- **Р—Р°С‰РёС‚Р° РѕС‚ РїРѕС‚РµСЂРё РґР°РЅРЅС‹С…** РїСЂРё РѕР±РЅРѕРІР»РµРЅРёСЏС… РєРѕРґР°

## рџ”§ **РЎС‚СЂСѓРєС‚СѓСЂР° Р±Р°Р·С‹ РґР°РЅРЅС‹С…:**

### **РџРѕР»СЊР·РѕРІР°С‚РµР»Рё (UserData):**
```typescript
{
  telegramId: string;        // ID РёР· Telegram
  name: string;             // РРјСЏ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ
  role: 'worker' | 'team_lead' | 'junior_admin' | 'senior_admin' | 'main_admin';
  teamNumber?: number;      // РќРѕРјРµСЂ РєРѕРјР°РЅРґС‹
  level: number;            // РЈСЂРѕРІРµРЅСЊ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ
  experience: number;       // РћРїС‹С‚
  gCoins: number;          // РњРѕРЅРµС‚С‹
  achievements: string[];   // ID РґРѕСЃС‚РёР¶РµРЅРёР№
  tasksCompleted: number;   // Р’С‹РїРѕР»РЅРµРЅРЅС‹Рµ Р·Р°РґР°С‡Рё
  lastActive: string;       // РџРѕСЃР»РµРґРЅСЏСЏ Р°РєС‚РёРІРЅРѕСЃС‚СЊ
  createdAt: string;        // Р”Р°С‚Р° СЃРѕР·РґР°РЅРёСЏ
}
```

### **Р”РѕСЃС‚РёР¶РµРЅРёСЏ (AchievementData):**
```typescript
{
  id: string;
  userId: string;
  achievementType: string;
  progress: number;
  completed: boolean;
  completedAt?: string;
}
```

### **Р—Р°РґР°С‡Рё (TaskData):**
```typescript
{
  id: string;
  userId: string;
  title: string;
  description: string;
  status: 'pending' | 'in_progress' | 'completed';
  assignedBy?: string;
  progress: number;
  maxProgress: number;
  reward: number;
  createdAt: string;
  completedAt?: string;
}
```

### **РЈРІРµРґРѕРјР»РµРЅРёСЏ (NotificationData):**
```typescript
{
  id: string;
  userId: string;
  type: string;
  title: string;
  message: string;
  read: boolean;
  createdAt: string;
}
```

## рџљЂ **РљР°Рє РёСЃРїРѕР»СЊР·РѕРІР°С‚СЊ:**

### **1. Р’ РєРѕРјРїРѕРЅРµРЅС‚Р°С…:**
```typescript
import { useDatabase } from '../hooks/useDatabase';

const MyComponent = () => {
  const { 
    user, 
    achievements, 
    tasks, 
    notifications, 
    updateProgress, 
    saveTask 
  } = useDatabase(telegramId);

  // РћР±РЅРѕРІР»РµРЅРёРµ РїСЂРѕРіСЂРµСЃСЃР°
  const handleLevelUp = () => {
    updateProgress(telegramId, {
      level: user.level + 1,
      experience: 0,
      gCoins: user.gCoins + 100
    });
  };
};
```

### **2. РџСЂСЏРјРѕРµ РёСЃРїРѕР»СЊР·РѕРІР°РЅРёРµ СЃРµСЂРІРёСЃР°:**
```typescript
import { databaseService } from '../services/database';

// РЎРѕР·РґР°РЅРёРµ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ
const user = databaseService.createUser('123456789', 'РРІР°РЅ', 'worker', 1);

// РџРѕР»СѓС‡РµРЅРёРµ РґР°РЅРЅС‹С…
const userData = databaseService.getUser('123456789');
const stats = databaseService.getUserStats('123456789');
```

## рџ”ђ **РЎРёСЃС‚РµРјР° РґРѕСЃС‚СѓРїР°:**

### **РЎРµРєСЂРµС‚РЅС‹Рµ РєРѕРґС‹ (8 РїРµСЂРµРєР»СЋС‡РµРЅРёР№ С‚РµРјС‹):**
- `df1GE%LwVAAC` - Р“Р»Р°РІРЅС‹Р№ РђРґРјРёРЅ
- `0caFyNh}w%` - РЎС‚Р°СЂС€РёР№ РђРґРјРёРЅ  
- `~3SogEhz` - РњР»Р°РґС€РёР№ РђРґРјРёРЅ
- `SToU{~` - РўРёРјР»РёРґ

### **РџСЂРѕРІРµСЂРєР° РґРѕСЃС‚СѓРїР°:**
1. **РџСЂРѕРІРµСЂРєР° РїРѕ Р‘Р”** - РµСЃС‚СЊ Р»Рё РїРѕР»СЊР·РѕРІР°С‚РµР»СЊ СЃ СЂРѕР»СЊСЋ Р°РґРјРёРЅ/С‚РёРјР»РёРґ
2. **РЎРµРєСЂРµС‚РЅС‹Р№ РґРѕСЃС‚СѓРї** - Р°РєС‚РёРІРёСЂРѕРІР°РЅ Р»Рё С‡РµСЂРµР· РєРѕРґС‹
3. **РљРЅРѕРїРєР° РїРѕРєР°Р·С‹РІР°РµС‚СЃСЏ** С‚РѕР»СЊРєРѕ РїСЂРё РЅР°Р»РёС‡РёРё РґРѕСЃС‚СѓРїР°

## рџ’ѕ **РђРІС‚РѕСЃРѕС…СЂР°РЅРµРЅРёРµ:**

- **РђРІС‚РѕРјР°С‚РёС‡РµСЃРєРѕРµ СЃРѕС…СЂР°РЅРµРЅРёРµ** С‡РµСЂРµР· 2 СЃРµРєСѓРЅРґС‹ РїРѕСЃР»Рµ РёР·РјРµРЅРµРЅРёР№
- **РЎРёРЅС…СЂРѕРЅРёР·Р°С†РёСЏ** РїСЂРё Р·Р°РіСЂСѓР·РєРµ РїСЂРёР»РѕР¶РµРЅРёСЏ
- **РњРёРіСЂР°С†РёСЏ РґР°РЅРЅС‹С…** РёР· СЃС‚Р°СЂРѕР№ СЃРёСЃС‚РµРјС‹
- **Р РµР·РµСЂРІРЅРѕРµ РєРѕРїРёСЂРѕРІР°РЅРёРµ** (СЌРєСЃРїРѕСЂС‚/РёРјРїРѕСЂС‚)

## рџ›ЎпёЏ **Р—Р°С‰РёС‚Р° РґР°РЅРЅС‹С…:**

- **Р’РµСЂСЃРёРѕРЅРёСЂРѕРІР°РЅРёРµ Р‘Р”** - Р°РІС‚РѕРјР°С‚РёС‡РµСЃРєР°СЏ РјРёРіСЂР°С†РёСЏ
- **РћР±СЂР°Р±РѕС‚РєР° РѕС€РёР±РѕРє** - graceful fallback
- **РћРіСЂР°РЅРёС‡РµРЅРёСЏ** - РјР°РєСЃРёРјСѓРј 100 СѓРІРµРґРѕРјР»РµРЅРёР№ РЅР° РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ
- **Р’Р°Р»РёРґР°С†РёСЏ** - РїСЂРѕРІРµСЂРєР° РґР°РЅРЅС‹С… РїСЂРё СЃРѕС…СЂР°РЅРµРЅРёРё

## рџ“Љ **РЎС‚Р°С‚РёСЃС‚РёРєР°:**

```typescript
const stats = {
  user: UserData,
  achievementsCount: number,
  completedAchievements: number,
  tasksCount: number,
  completedTasks: number,
  unreadNotifications: number
};
```

## рџ”„ **РњРёРіСЂР°С†РёСЏ РЅР° СЂРµР°Р»СЊРЅСѓСЋ Р‘Р”:**

РљРѕРіРґР° Р±СѓРґРµС‚Рµ РіРѕС‚РѕРІС‹ РїРµСЂРµР№С‚Рё РЅР° СЂРµР°Р»СЊРЅСѓСЋ Р‘Р” (Supabase/PostgreSQL):

1. **Р—Р°РјРµРЅРёС‚Рµ** `databaseService` РЅР° СЂРµР°Р»СЊРЅС‹Рµ API РІС‹Р·РѕРІС‹
2. **РЎРѕС…СЂР°РЅРёС‚Рµ** РёРЅС‚РµСЂС„РµР№СЃС‹ РґР°РЅРЅС‹С…
3. **Р”РѕР±Р°РІСЊС‚Рµ** СЃРёРЅС…СЂРѕРЅРёР·Р°С†РёСЋ СЃ СЃРµСЂРІРµСЂРѕРј
4. **РќР°СЃС‚СЂРѕР№С‚Рµ** Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ

## вњ… **РџСЂРµРёРјСѓС‰РµСЃС‚РІР°:**

- вњ… **Р”Р°РЅРЅС‹Рµ СЃРѕС…СЂР°РЅСЏСЋС‚СЃСЏ** РїСЂРё РїРµСЂРµР·Р°РїСѓСЃРєРµ
- вњ… **РќРµС‚ РїРѕС‚РµСЂРё РїСЂРѕРіСЂРµСЃСЃР°** РїСЂРё РѕР±РЅРѕРІР»РµРЅРёСЏС…
- вњ… **Р‘С‹СЃС‚СЂР°СЏ СЂР°Р±РѕС‚Р°** - РІСЃРµ РґР°РЅРЅС‹Рµ Р»РѕРєР°Р»СЊРЅРѕ
- вњ… **РџСЂРѕСЃС‚РѕС‚Р° СЂР°Р·СЂР°Р±РѕС‚РєРё** - РЅРµ РЅСѓР¶РµРЅ СЃРµСЂРІРµСЂ
- вњ… **Р“РѕС‚РѕРІРЅРѕСЃС‚СЊ Рє РјР°СЃС€С‚Р°Р±РёСЂРѕРІР°РЅРёСЋ** - Р»РµРіРєРѕ Р·Р°РјРµРЅРёС‚СЊ РЅР° СЂРµР°Р»СЊРЅСѓСЋ Р‘Р”

## рџЋЇ **РЎР»РµРґСѓСЋС‰РёРµ С€Р°РіРё:**

1. **РРЅС‚РµРіСЂРёСЂРѕРІР°С‚СЊ** Р‘Р” РІ СЃСѓС‰РµСЃС‚РІСѓСЋС‰РёРµ РєРѕРјРїРѕРЅРµРЅС‚С‹
2. **Р”РѕР±Р°РІРёС‚СЊ** СЂРµР°Р»СЊРЅС‹Рµ РґРѕСЃС‚РёР¶РµРЅРёСЏ Рё Р·Р°РґР°С‡Рё
3. **РќР°СЃС‚СЂРѕРёС‚СЊ** СЃРёСЃС‚РµРјСѓ СѓРІРµРґРѕРјР»РµРЅРёР№
4. **РЎРѕР·РґР°С‚СЊ** Р°РґРјРёРЅ РїР°РЅРµР»СЊ РґР»СЏ СѓРїСЂР°РІР»РµРЅРёСЏ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏРјРё
5. **Р”РѕР±Р°РІРёС‚СЊ** Р°РЅР°Р»РёС‚РёРєСѓ Рё РѕС‚С‡РµС‚С‹
