РїВ»С—import { useEffect, useState } from 'react';

interface BackgroundFX_HomeDarkProps {
  mode?: 'subtle' | 'debug';
}

export function BackgroundFX_HomeDark({ mode = 'subtle' }: BackgroundFX_HomeDarkProps) {
  const [dimensions, setDimensions] = useState({ width: 393, height: 852 });

  useEffect(() => {
    const updateDimensions = () => {
      setDimensions({
        width: window.innerWidth,
        height: window.innerHeight
      });
    };

    updateDimensions();
    window.addEventListener('resize', updateDimensions);
    return () => window.removeEventListener('resize', updateDimensions);
  }, []);

  // Р В РІР‚в„ўР РЋРІР‚в„–Р РЋРІР‚РЋР В РЎвЂР РЋР С“Р В Р’В»Р РЋР РЏР В Р’ВµР В РЎВ Р РЋР вЂљР В Р’В°Р В Р’В·Р В РЎВР В Р’ВµР РЋР вЂљР РЋРІР‚в„– Р РЋР РЉР В Р’В»Р В Р’В»Р В РЎвЂР В РЎвЂ”Р РЋР С“Р В РЎвЂўР В Р вЂ  Р В РЎвЂўР РЋРІР‚С™Р В Р вЂ¦Р В РЎвЂўР РЋР С“Р В РЎвЂР РЋРІР‚С™Р В Р’ВµР В Р’В»Р РЋР Р‰Р В Р вЂ¦Р В РЎвЂў Р РЋР РЉР В РЎвЂќР РЋР вЂљР В Р’В°Р В Р вЂ¦Р В Р’В°
  const mainEllipseWidth = dimensions.width * 1.85; // ~185% Р РЋРІвЂљВ¬Р В РЎвЂР РЋР вЂљР В РЎвЂР В Р вЂ¦Р РЋРІР‚в„– Р РЋР РЉР В РЎвЂќР РЋР вЂљР В Р’В°Р В Р вЂ¦Р В Р’В°
  const mainEllipseHeight = dimensions.height * 0.95; // ~95% Р В Р вЂ Р РЋРІР‚в„–Р РЋР С“Р В РЎвЂўР РЋРІР‚С™Р РЋРІР‚в„– Р РЋР РЉР В РЎвЂќР РЋР вЂљР В Р’В°Р В Р вЂ¦Р В Р’В°
  
  const sideEllipseWidth = dimensions.width * 0.97; // ~380px Р В РЎвЂ”Р РЋР вЂљР В РЎвЂ 393px Р РЋРІвЂљВ¬Р В РЎвЂР РЋР вЂљР В РЎвЂР В Р вЂ¦Р В Р’Вµ
  const sideEllipseHeight = dimensions.height * 0.31; // ~260px Р В РЎвЂ”Р РЋР вЂљР В РЎвЂ 852px Р В Р вЂ Р РЋРІР‚в„–Р РЋР С“Р В РЎвЂўР РЋРІР‚С™Р В Р’Вµ

  // Р В Р’В¦Р В Р’ВµР В Р вЂ¦Р РЋРІР‚С™Р РЋР вЂљ Р В Р’В»Р В РЎвЂўР В РЎвЂ“Р В РЎвЂўР РЋРІР‚С™Р В РЎвЂР В РЎвЂ”Р В Р’В° Р В РЎвЂ”Р РЋР вЂљР В РЎвЂР В РЎВР В Р’ВµР РЋР вЂљР В Р вЂ¦Р В РЎвЂў Р В Р вЂ¦Р В Р’В° ~150px Р В РЎвЂўР РЋРІР‚С™ Р В Р вЂ Р В Р’ВµР РЋР вЂљР РЋРІР‚В¦Р В Р’В°
  const logoCenter = 150;
  
  // Р В Р Р‹Р В РЎВР В Р’ВµР РЋРІР‚В°Р В Р’ВµР В Р вЂ¦Р В РЎвЂР РЋР РЏ Р В РЎвЂўР РЋРІР‚С™Р В Р вЂ¦Р В РЎвЂўР РЋР С“Р В РЎвЂР РЋРІР‚С™Р В Р’ВµР В Р’В»Р РЋР Р‰Р В Р вЂ¦Р В РЎвЂў Р РЋРІР‚В Р В Р’ВµР В Р вЂ¦Р РЋРІР‚С™Р РЋР вЂљР В Р’В° Р В Р’В»Р В РЎвЂўР В РЎвЂ“Р В РЎвЂўР РЋРІР‚С™Р В РЎвЂР В РЎвЂ”Р В Р’В°
  const mainEllipseTop = logoCenter - 24; // Р В Р вЂ Р В Р вЂ Р В Р’ВµР РЋР вЂљР РЋРІР‚В¦ Р В Р вЂ¦Р В Р’В° 24px
  const sideEllipseTop = logoCenter + 12; // Р В Р вЂ Р В Р вЂ Р В Р’ВµР РЋР вЂљР РЋРІР‚В¦ Р В Р вЂ¦Р В Р’В° 12px
  const leftEllipseLeft = (dimensions.width / 2) - 120; // Р В Р вЂ Р В Р’В»Р В Р’ВµР В Р вЂ Р В РЎвЂў Р В Р вЂ¦Р В Р’В° 120px
  const rightEllipseLeft = (dimensions.width / 2) + 120; // Р В Р вЂ Р В РЎвЂ”Р РЋР вЂљР В Р’В°Р В Р вЂ Р В РЎвЂў Р В Р вЂ¦Р В Р’В° 120px

  // Р В РІР‚вЂќР В Р вЂ¦Р В Р’В°Р РЋРІР‚РЋР В Р’ВµР В Р вЂ¦Р В РЎвЂР РЋР РЏ opacity Р В Р вЂ  Р В Р’В·Р В Р’В°Р В Р вЂ Р В РЎвЂР РЋР С“Р В РЎвЂР В РЎВР В РЎвЂўР РЋР С“Р РЋРІР‚С™Р В РЎвЂ Р В РЎвЂўР РЋРІР‚С™ Р РЋР вЂљР В Р’ВµР В Р’В¶Р В РЎвЂР В РЎВР В Р’В°
  const opacities = mode === 'debug' 
    ? { main: 0.28, sides: 0.16, vertical: 0.24 }
    : { main: 0.18, sides: 0.10, vertical: 0.18 };

  return (
    <div 
      className="fixed inset-0 pointer-events-none"
      style={{ 
        zIndex: 5, // Р В РІР‚в„ўР РЋРІР‚в„–Р РЋРІвЂљВ¬Р В Р’Вµ BackgroundFX Р В Р вЂ¦Р В РЎвЂў Р В Р вЂ¦Р В РЎвЂР В Р’В¶Р В Р’Вµ Р В РЎвЂќР В РЎвЂўР В Р вЂ¦Р РЋРІР‚С™Р В Р’ВµР В Р вЂ¦Р РЋРІР‚С™Р В Р’В°
        overflow: 'hidden'
      }}
    >
      {/* Main Ellipse Glow */}
      <div
        className="absolute"
        style={{
          left: '50%',
          top: `${mainEllipseTop}px`,
          width: `${mainEllipseWidth}px`,
          height: `${mainEllipseHeight}px`,
          transform: 'translateX(-50%)',
          background: 'radial-gradient(ellipse, rgba(255, 255, 255, 1) 0%, transparent 70%)',
          mixBlendMode: 'screen',
          opacity: opacities.main,
          borderRadius: '50%'
        }}
      />

      {/* Left Sweep */}
      <div
        className="absolute"
        style={{
          left: `${leftEllipseLeft}px`,
          top: `${sideEllipseTop}px`,
          width: `${sideEllipseWidth}px`,
          height: `${sideEllipseHeight}px`,
          transform: 'translateX(-50%) rotate(12deg)',
          background: 'radial-gradient(ellipse, rgba(255, 255, 255, 1) 0%, transparent 70%)',
          mixBlendMode: 'screen',
          opacity: opacities.sides,
          borderRadius: '50%'
        }}
      />

      {/* Right Sweep */}
      <div
        className="absolute"
        style={{
          left: `${rightEllipseLeft}px`,
          top: `${sideEllipseTop}px`,
          width: `${sideEllipseWidth}px`,
          height: `${sideEllipseHeight}px`,
          transform: 'translateX(-50%) rotate(-12deg)',
          background: 'radial-gradient(ellipse, rgba(255, 255, 255, 1) 0%, transparent 70%)',
          mixBlendMode: 'screen',
          opacity: opacities.sides,
          borderRadius: '50%'
        }}
      />

      {/* Vertical Fade */}
      <div
        className="absolute inset-0"
        style={{
          background: 'linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0.12) 60%, rgba(0,0,0,0.18) 100%)',
          mixBlendMode: 'multiply',
          opacity: opacities.vertical
        }}
      />
    </div>
  );
}
