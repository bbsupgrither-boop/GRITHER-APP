import { useState, useEffect } from 'react';

interface UseThemeToggleReturn {
  themeToggleCount: number;
  resetThemeToggleCount: () => void;
  incrementThemeToggleCount: () => void;
}

export const useThemeToggle = (): UseThemeToggleReturn => {
  const [themeToggleCount, setThemeToggleCount] = useState(0);

  // Р вЂ”Р В°Р С–РЎР‚РЎС“Р В¶Р В°Р ВµР С РЎРѓРЎвЂЎР ВµРЎвЂљРЎвЂЎР С‘Р С” Р С‘Р В· localStorage Р С—РЎР‚Р С‘ Р С‘Р Р…Р С‘РЎвЂ Р С‘Р В°Р В»Р С‘Р В·Р В°РЎвЂ Р С‘Р С‘
  useEffect(() => {
    const savedCount = localStorage.getItem('themeToggleCount');
    if (savedCount) {
      const count = parseInt(savedCount, 10);
      console.log(`СЂСџвЂњР‰ Loaded theme toggle count from localStorage: ${count}`);
      setThemeToggleCount(count);
    } else {
      console.log('СЂСџвЂњР‰ No saved theme toggle count, starting from 0');
      setThemeToggleCount(0);
    }
  }, []);

  // Р РЋР С•РЎвЂ¦РЎР‚Р В°Р Р…РЎРЏР ВµР С РЎРѓРЎвЂЎР ВµРЎвЂљРЎвЂЎР С‘Р С” Р Р† localStorage Р С—РЎР‚Р С‘ Р С‘Р В·Р СР ВµР Р…Р ВµР Р…Р С‘Р С‘
  useEffect(() => {
    localStorage.setItem('themeToggleCount', themeToggleCount.toString());
  }, [themeToggleCount]);

  const incrementThemeToggleCount = () => {
    setThemeToggleCount(prev => prev + 1);
  };

  const resetThemeToggleCount = () => {
    setThemeToggleCount(0);
    localStorage.removeItem('themeToggleCount');
  };

  return {
    themeToggleCount,
    resetThemeToggleCount,
    incrementThemeToggleCount
  };
};
